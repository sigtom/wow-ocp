all:
  hosts:
    wow-prox1:
      ansible_host: 172.16.110.101
      proxmox_api_host: 172.16.110.101
  children:
    proxmox_vms:
      hosts:
        dns2:
          ansible_host: 172.16.110.211
          vmid: 211
          proxmox_node: wow-prox1
        wow-clawdbot:
          ansible_host: 172.16.110.76  # DHCP-assigned IP
          vmid: 300
          proxmox_node: wow-prox1
          use_dhcp: true
        ipmgmt:
          ansible_host: 172.16.110.213  # Static IP (DHCP conflict resolved)
          vmid: 212
          proxmox_node: wow-prox1
          ansible_user: ubuntu
          # Note: Previously referenced as 'wow-ubu-test' - consolidated to primary hostname 'ipmgmt'
    proxmox_lxc:
      hosts:
        vaultwarden:
          ansible_host: 172.16.110.105
          vmid: 105
          proxmox_node: wow-prox1
          ansible_user: root
        traefik:
          ansible_host: 172.16.100.10
          vmid: 210
          proxmox_node: wow-prox1
          ansible_user: root
          # Deployment config
          lxc_size: small                      # 1C/512MB/8GB (Traefik is lightweight)
          lxc_template: ubuntu24               # Ubuntu 24.04 LTS
          network_profile: apps                # 172.16.100.0/24
          post_provisioning_enabled: true
          post_provisioning_profile: docker_host
          snapshot_policy: none                # Disabled for initial deployment
          # LXC-specific features for Docker
          lxc_features:
            - nesting=1                        # Required for Docker in LXC
          # Application metadata
          description: "Traefik v3.6 - Reverse Proxy & SSL Termination for Proxmox Workloads"
          services:
            - traefik
          # Traefik-specific config
          traefik_version: "v3.6"
          domains:
            - nixsysadmin.io
            - sigtom.com
            - sigtom.dev
            - sigtom.info
            - sigtom.io
            - sigtomtech.com
            - tecnixsystems.com
        nautobot:
          ansible_host: 172.16.100.15
          vmid: 215
          proxmox_node: wow-prox1
          ansible_user: root
          # Deployment config
          lxc_size: medium                    # 2C/2GB/20GB
          lxc_template: ubuntu24               # Ubuntu 24.04 LTS
          network_profile: apps                # 172.16.100.0/24
          post_provisioning_enabled: true
          post_provisioning_profile: docker_host
          snapshot_policy: production          # pre+post+cleanup, 30-day retention
          # LXC-specific features for Docker (must be string, not list)
          lxc_features: "nesting=1,keyctl=1"   # Required for Docker in LXC
          # Application metadata
          description: "Nautobot IPAM/DCIM - Network Source of Truth"
          services:
            - nautobot
            - postgresql
            - redis

    

